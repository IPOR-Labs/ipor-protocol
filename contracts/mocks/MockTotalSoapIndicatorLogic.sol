// SPDX-License-Identifier: agpl-3.0
pragma solidity 0.8.9;

import "../libraries/types/DataTypes.sol";
import "../libraries/TotalSoapIndicatorLogic.sol";

contract MockTotalSoapIndicatorLogic {
    function calculateSoap(
        DataTypes.TotalSoapIndicator memory tsi,
        uint256 calculationTimestamp,
        uint256 ibtPrice
    ) public pure returns (int256 soapPf, int256 soapRf) {
        return
            TotalSoapIndicatorLogic.calculateSoap(
                tsi,
                calculationTimestamp,
                ibtPrice
            );
    }

    function calculateQuasiSoap(
        DataTypes.TotalSoapIndicator memory tsi,
        uint256 calculationTimestamp,
        uint256 ibtPrice
    ) public pure returns (int256 soapPf, int256 soapRf) {
        return
            TotalSoapIndicatorLogic.calculateQuasiSoap(
                tsi,
                calculationTimestamp,
                ibtPrice
            );
    }

    function rebalanceSoapWhenOpenPosition(
        DataTypes.TotalSoapIndicator memory tsi,
        uint8 direction,
        uint256 rebalanceTimestamp,
        uint256 derivativeNotional,
        uint256 derivativeFixedInterestRate,
        uint256 derivativeIbtQuantity
    ) public pure {
        TotalSoapIndicatorLogic.rebalanceSoapWhenOpenPosition(
            tsi,
            direction,
            rebalanceTimestamp,
            derivativeNotional,
            derivativeFixedInterestRate,
            derivativeIbtQuantity
        );
    }

    function rebalanceSoapWhenClosePosition(
        DataTypes.TotalSoapIndicator memory tsi,
        uint8 direction,
        uint256 rebalanceTimestamp,
        uint256 derivativeOpenTimestamp,
        uint256 derivativeNotional,
        uint256 derivativeFixedInterestRate,
        uint256 derivativeIbtQuantity
    ) public pure {
        TotalSoapIndicatorLogic.rebalanceSoapWhenClosePosition(
            tsi,
            direction,
            rebalanceTimestamp,
            derivativeOpenTimestamp,
            derivativeNotional,
            derivativeFixedInterestRate,
            derivativeIbtQuantity
        );
    }
}
